@use "../../utils/mixins.scss" as *;
@use "../../utils/functions.scss" as *;
@use "../../utils/variables.scss" as *;
@use "../../shared/titles.scss" as *;
@use "../../shared/descriptions.scss" as *;
@use '../../utils/responsive.scss' as *;

@use "../../../node_modules/include-media/dist/include-media" as *;

.main-page__gallery {
  display: grid;

  @include media("<600px") {
    grid-template-columns: repeat(6, 1fr);
    left: 5.3333333333vw;
    right: 5.3333333333vw;
    grid-column-gap: 5.3333333333vw;
  }

  @include media(">=601px") {
    grid-template-columns: repeat(12, 1fr);
    left: 1.3888888889vw;
    right: 1.3888888889vw;
    grid-column-gap: 1.3888888889vw;
  }
}

.main-page__media {
  aspect-ratio: 335/447;
  position: relative;
  overflow: hidden;

  &:hover .main-page__media__description {
    opacity: 1;
  }

  @include media("<600px") {
    margin-top: 20vw;

    &:nth-child(6n + 1) {
      grid-column: 4/7;
    }

    &:nth-child(6n + 2) {
      grid-column: 1/4;
    }

    &:nth-child(6n + 3) {
      grid-column: 3/7;
    }

    &:nth-child(6n + 4) {
      grid-column: 2/5;
    }

    &:nth-child(6n + 5) {
      grid-column: 4/7;
    }

    &:nth-child(6n + 6) {
      grid-column: 2/6;
    }
  }

  @include media(">=601px") {
    &:nth-child(10n + 1) {
      grid-column: 2/4;
      // margin-top: 2vw;
    }

    &:nth-child(10n + 2) {
      grid-column: 10/13;
      margin-top: 14.6527777778vw;
    }

    &:nth-child(10n + 3) {
      grid-column: 4/7;
      margin-top: -4.7222222222vw;
      z-index: 2;
    }

    &:nth-child(10n + 4) {
      grid-column: 9/11;
      margin-top: 21.7361111111vw;
    }

    &:nth-child(10n + 5) {
      grid-column: 3/6;
      margin-top: -1.0416666667vw;
      z-index: 2;
    }

    &:nth-child(10n + 6) {
      grid-column: 10/13;
      margin-top: 18.4722222222vw;
    }

    &:nth-child(10n + 7) {
      grid-column: 2/4;
      margin-top: -2.8472222222vw;
    }

    &:nth-child(10n + 8) {
      grid-column: 8/11;
      margin-top: 14.2361111111vw;
    }

    &:nth-child(10n + 9) {
      grid-column: 3/6;
      margin-top: -7.3611111111vw;
    }

    &:nth-child(10n + 10) {
      grid-column: 9/11;
      margin-top: 22.4305555556vw;
    }
  }
}

.year-2019 .main-page__media {
  @include media("<600px") {
    &:nth-child(6) {
      grid-column: 1 / 7;
      aspect-ratio: 1280 / 854;
    }
  }
  @include media(">=601px") {
    &:nth-child(4) {
      grid-column: 9/12;
    }
    &:nth-child(5) {
      grid-column: 3/5;
    }
    &:nth-child(6) {
      grid-column: 6 / 11;
      aspect-ratio: 1280 / 854;
      margin-top: 23vw;
    }
    &:nth-child(7) {
      margin-top: 5vw;
    }
    &:nth-child(8) {
      margin-top: 21vw;
    }
  }
}

.year-2020 .main-page__media {
  @include media("<600px") {
    &:nth-child(1) {
      grid-column: 3 / 7;
    }
    &:nth-child(3) {
      grid-column: 2 / 6;
    }
    &:nth-child(7) {
      aspect-ratio: 3088 / 2319;
      grid-column: 1 / 7;
    }
    &:nth-child(10) {
      grid-column: 1 / 5;
    }
    &:nth-child(11) {
      grid-column: 3 / 7;
    }
    &:nth-child(14) {
      aspect-ratio: 3088 / 2320;
      grid-column: 1 / 7;
    }
  }

  @include media(">=601px") {
    &:nth-child(1) {
      grid-column: 2/5;
    }
    &:nth-child(2) {
      margin-top: 21vw;
    }
    &:nth-child(3) {
      margin-top: 0;
    }
    &:nth-child(4) {
      margin-top: 28.736111vw;
    }
    &:nth-child(6) {
      grid-column: 10 / 12;
      margin-top: 27.5vw;
    }
    &:nth-child(7) {
      aspect-ratio: 3088 / 2319;
      grid-column: 2 / 6;
      margin-top: 0.152778vw;
    }
    &:nth-child(8) {
      grid-column: 9 / 11;
      margin-top: 21.5vw;
    }
    &:nth-child(9) {
      margin-top: -2.361111vw;
    }
    &:nth-child(10) {
      grid-column: 8 / 11;
    }
    &:nth-child(11) {
      grid-column: 2/5;
    }
    &:nth-child(12) {
      margin-top: 25vw;
    }
    &:nth-child(13) {
      grid-column: 4 / 6;
    }
    &:nth-child(14) {
      aspect-ratio: 3088 / 2320;
      grid-column: 7 / 11;
      margin-top: 23.736111vw;
    }
  }
}

.main-page__media__image {
  @extend %cover;

  object-fit: cover;
}

.main-page__media__description {
  @extend %description-16;
  position: absolute;
  height: 6vw;
  left: 0;
  right: 0;
  bottom: 0;
  color: white;
  background: rgb(0, 0, 0);
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.6) 100%
  );
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 1.5vw;
  opacity: 0;
  transition: opacity 200ms ease-in;

  @include media("<600px") {
    height: 20vw;
    padding: 4vw;
  }
}
